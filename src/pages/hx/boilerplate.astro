---
const tag = import.meta.env.TAG || "latest";
let version = "1.0";

await (async () => {
  try {
    const response = await fetch("https://registry.npmjs.org/frankenstyle");
    const data = await response.json();

    version = data["dist-tags"][tag];
  } catch (e) {}
})();
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Frankenstyle</title>
    <link rel="preconnect" href="https://rsms.me/" />
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />

    <style is:inline>
      :root {
        font-family: Inter, sans-serif;
        font-feature-settings:
          "liga" 1,
          "calt" 1; /* fix for Chrome */
      }

      @supports (font-variation-settings: normal) {
        :root {
          font-family: InterVariable, sans-serif;
        }
      }

      @layer base {
        .dark\:display-hidden:where(.dark, .dark *) {
          display: none;
        }

        .dark\:display-inline-block:where(.dark, .dark *) {
          display: inline-block;
        }

        .dark-slide-icon {
          transition:
            transform 0.3s ease,
            opacity 0.3s ease,
            visibility 0.3s ease;
          overflow: hidden;
          position: absolute;
          left: 50%;
          transform: translateX(-50%);
        }

        .dark-slide-sun {
          transform: translate(-50%, -100%);
          opacity: 0;
          visibility: hidden;
          pointer-events: none;
        }

        .dark-slide-moon {
          transform: translate(-50%, 0);
          opacity: 1;
          visibility: visible;
        }

        .dark\:dark-slide-moon:where(.dark, .dark *) {
          transform: translate(-50%, 100%);
          opacity: 0;
          visibility: hidden;
          pointer-events: none;
        }

        .dark\:dark-slide-sun:where(.dark, .dark *) {
          transform: translate(-50%, 0);
          opacity: 1;
          visibility: visible;
          pointer-events: auto;
        }
      }
    </style>

    <link
      rel="stylesheet"
      href={`https://cdn.jsdelivr.net/npm/frankenstyle@${version}/dist/css/frankenstyle-kit.min.css`}
    />

    <script is:inline>
      const htmlElement = document.documentElement;

      const __FRANKEN__ = JSON.parse(
        localStorage.getItem("__FRANKEN__") || "{}",
      );

      if (
        __FRANKEN__.mode === "dark" ||
        (!__FRANKEN__.mode &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        htmlElement.classList.add("dark");
      } else {
        htmlElement.classList.remove("dark");
      }

      htmlElement.classList.add(__FRANKEN__.layout || "uk-layout-small");
    </script>

    <!-- Load the core file in the <head> -->
    <script
      is:inline
      src={`https://cdn.jsdelivr.net/npm/frankenstyle@${version}/dist/js/hwc-core.iife.js`}
      type="module"></script>
  </head>
  <body class="bg color" style="--bg: var(--uk-bg); --color: var(--uk-bg-f)" ,>
    <!-- START CODING HERE -->
    <div class="uk-container mt" style="--mt: 40">
      <div class="space-y" style="--space-y: 4">
        <h1 class="uk-hero-small text-center font-bold">FrankenstyleKit</h1>
        <div class="display-flex justify-center">
          <uk-lsh
            class="size"
            style="--size: 8"
            toggle
            group="mode"
            cls="uk-button uk-button-icon uk-button-secondary uk-button-small relative"
          >
            <template data-fn="template">
              <uk-icon
                class="dark-slide-icon dark-slide-moon dark:dark-slide-moon"
                icon="moon"
              >
              </uk-icon>
              <uk-icon
                class="dark-slide-icon dark-slide-sun dark:dark-slide-sun"
                icon="sun"
              >
              </uk-icon>
            </template>
          </uk-lsh>
        </div>
      </div>
    </div>
    <!-- END -->

    <!-- Optional: Suppress errors if you don't plan to use Lucide or ApexCharts -->
    <script is:inline>
      // window.Lucide = {};
      // window.ApexCharts = {};
    </script>

    <!-- Optional: Icons -->
    <script
      is:inline
      src={`https://cdn.jsdelivr.net/npm/frankenstyle@${version}/dist/js/hwc-icon.iife.js`}
      type="module"></script>

    <!-- Optional: Charts -->
    <script
      is:inline
      src={`https://cdn.jsdelivr.net/npm/frankenstyle@${version}/dist/js/hwc-chart.iife.js`}
      type="module"></script>

    <!-- Load components last -->
    <script
      is:inline
      src={`https://cdn.jsdelivr.net/npm/frankenstyle@${version}/dist/js/hwc-components.iife.js`}
      type="module"></script>

    <!-- Optional: Frankternity core file -->
    <script
      is:inline
      src={`https://cdn.jsdelivr.net/npm/frankenstyle@${version}/dist/js/ft-core.iife.js`}
    ></script>

    <!-- You can load Frankternity components below -->
  </body>
</html>
